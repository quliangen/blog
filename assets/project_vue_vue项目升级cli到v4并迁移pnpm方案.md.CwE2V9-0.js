import{_ as i,o as a,c as e,ae as t}from"./chunks/framework.h0LyDJ8h.js";const o=JSON.parse('{"title":"vue-cli 迁移 4.5.17 指南","description":"","frontmatter":{},"headers":[],"relativePath":"project/vue/vue项目升级cli到v4并迁移pnpm方案.md","filePath":"project/vue/vue项目升级cli到v4并迁移pnpm方案.md"}'),l={name:"project/vue/vue项目升级cli到v4并迁移pnpm方案.md"};function n(p,s,h,d,r,k){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="vue-cli-迁移-4-5-17-指南" tabindex="-1">vue-cli 迁移 4.5.17 指南 <a class="header-anchor" href="#vue-cli-迁移-4-5-17-指南" aria-label="Permalink to &quot;vue-cli 迁移 4.5.17 指南&quot;">​</a></h1><blockquote><p>目标：升级vue-service 及相关开发依赖到 4.5.17 版本，提升开发体验。</p></blockquote><p>重要提示：</p><ul><li>本文档适用于 vue-cli 3+ 4+ 2+(待验证)</li><li>如果项目已经迁移 pnpm : <ol><li>删除node_modules、pnpm-lock.yaml</li><li>使用 yarn 或 npm 安装依赖</li><li>迁移版本成功后删除lock文件，重新迁移 pnpm。</li></ol></li></ul><h2 id="一-升级全局-vue-cli-版本到-4-5-17" tabindex="-1">一 升级全局 vue-cli 版本到 4.5.17 <a class="header-anchor" href="#一-升级全局-vue-cli-版本到-4-5-17" aria-label="Permalink to &quot;一 升级全局 vue-cli 版本到 4.5.17&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看全局安装的 cli 版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vue</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 升级至 4.5.17</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue/cli@4.5.17</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue/cli@4.5.17</span></span></code></pre></div><h2 id="二-使用-vue-cli-指令检测当前项目" tabindex="-1">二 使用 vue-cli 指令检测当前项目 <a class="header-anchor" href="#二-使用-vue-cli-指令检测当前项目" aria-label="Permalink to &quot;二 使用 vue-cli 指令检测当前项目&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vue</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果出现以下 警告：输入 y</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  WARN  There are uncommitted changes in the current repository, it&#39;s recommended to commit or stash them first.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ? Still proceed? (y/N)</span></span></code></pre></div><p>运行结果如下 ✔ Gathering package information...</p><table tabindex="0"><thead><tr><th>Name</th><th>Installed</th><th>Wanted</th><th>Latest</th><th>Command to upgrade</th></tr></thead><tbody><tr><td>@vue/cli-service</td><td>4.5.17</td><td>4.5.17</td><td>5.0.4</td><td>vue upgrade @vue/cli-service</td></tr><tr><td>@vue/cli-plugin-babel</td><td>4.5.17</td><td>4.5.17</td><td>5.0.4</td><td>vue upgrade @vue/cli-plugin-babel</td></tr><tr><td>@vue/cli-plugin-eslint</td><td>4.5.17</td><td>4.5.17</td><td>5.0.4</td><td>vue upgrade @vue/cli-plugin-eslint</td></tr></tbody></table><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Continue to upgrade these plugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Y/n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 输入 n</span></span></code></pre></div><h2 id="三-手动升级上面结果中可升级的包到指定版本" tabindex="-1">三 手动升级上面结果中可升级的包到指定版本 <a class="header-anchor" href="#三-手动升级上面结果中可升级的包到指定版本" aria-label="Permalink to &quot;三 手动升级上面结果中可升级的包到指定版本&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vue</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue/cli-service</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.5.17</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 其他依次</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vue</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @vue/cli-plugin-babel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.5.17</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 出现以下警告</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#WARN  There are uncommitted changes in the current repository, it&#39;s recommended to commit or stash them first.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ? Still proceed? (y/N) 输入 y</span></span></code></pre></div><h2 id="四-验证" tabindex="-1">四 验证 <a class="header-anchor" href="#四-验证" aria-label="Permalink to &quot;四 验证&quot;">​</a></h2><ol><li>删除 node_modules 重装依赖</li><li>运行 dev server，处理异常</li><li>注意 eslint prettier 等工具报错信息及处理。</li><li>运行 build</li></ol><h2 id="五-验证无误迁移成功" tabindex="-1">五 验证无误迁移成功 <a class="header-anchor" href="#五-验证无误迁移成功" aria-label="Permalink to &quot;五 验证无误迁移成功&quot;">​</a></h2>`,16)])])}const u=i(l,[["render",n]]);export{o as __pageData,u as default};
