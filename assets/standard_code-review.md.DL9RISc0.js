import{_ as i,o as r,c as o,ae as s}from"./chunks/framework.h0LyDJ8h.js";const v=JSON.parse('{"title":"Code Review","description":"","frontmatter":{},"headers":[],"relativePath":"standard/code-review.md","filePath":"standard/code-review.md"}'),l={name:"standard/code-review.md"};function t(a,e,n,d,R,w){return r(),o("div",null,[...e[0]||(e[0]=[s('<h1 id="code-review" tabindex="-1">Code Review <a class="header-anchor" href="#code-review" aria-label="Permalink to &quot;Code Review&quot;">​</a></h1><p>Code Review 不仅仅保证代码质量，更重要的是： <strong>通过代码</strong> <strong>交流学习</strong></p><h2 id="工具与角色" tabindex="-1">工具与角色 <a class="header-anchor" href="#工具与角色" aria-label="Permalink to &quot;工具与角色&quot;">​</a></h2><p>Code Review 所依赖的工具是 <strong>GitLab</strong>。</p><p>整个 Code Review 流程在 GitLab 项目中有两个点比较关键：</p><ul><li><code>Merge Request</code>（简称：<em><strong>MR</strong></em>）</li><li><code>Discussion</code>（简称：<em><strong>Diss</strong></em>）</li></ul><p>同时需要针对 GitLab 的项目进行配置：</p><ul><li>GitLab 和 钉钉 打通，每次有 MR 时会推送到钉钉</li><li>项目进行配置合并检查，所有的 Diss 都必须解决才能合并（Settings - General - Merge requests - Merge checks - All discussions must be resolved）</li></ul><p>在 Code Review 过程中几个角色：</p><ul><li><em><strong>Owner</strong></em>（MR 发起者，需求负责人，代码改动提交者）</li><li><em><strong>Reviewers</strong></em>（负责 Review 代码，MR 参与者，前端团队的同事，可能不止一个人）</li><li><em><strong>Disser</strong></em>（某个 Reviewer，对某个 MR 发起 Discussion 的人）</li></ul><h2 id="原则" tabindex="-1">原则 <a class="header-anchor" href="#原则" aria-label="Permalink to &quot;原则&quot;">​</a></h2><ol><li>Owner 发起 MR 之前的代码需要进行充分自测</li><li>如果版本改动较大，应提前在测试介入时就进行 Code Review（可通过 Repository - Compare）</li><li>尽快响应 Code Review 请求，不阻塞他人的工作</li><li>如果某个 MR 紧急，可以告知 Reviewers</li><li>除有必要，Owner 不要在测试、验收阶段删除分支，应等待分支合入 Master 分支后移除</li><li>定期回顾和总结 Code Review 执行情况</li></ol><h2 id="流程" tabindex="-1">流程 <a class="header-anchor" href="#流程" aria-label="Permalink to &quot;流程&quot;">​</a></h2><ol><li>Owner 在本地某分支开发完成，充分自测之后将代码推送到 GitLab。</li><li>在 GitLab 发起 MR 之前，需保证当前分支代码已合并远端 Master 分支最新的代码<strong><strong>无冲突</strong></strong>并做 <strong><strong>git rebase</strong></strong>。</li><li>Owner 成功发起 MR 后，会自动通过钉钉告知到群里，告知 Reviewers 有 MR 需要进行 Code Review，Owner 可告知 Reviewers 紧急程度。</li><li>Reviewers 基于 MR 进行进行 Code Review。如果对 MR 有任何问题，在 GitLab 上针对具体代码进行发起 Discussion，Review 完成后通知 Owner 结果（本次 MR 通过 / 本次 MR 有多少个 Diss）。如果有 Diss，Owner 需要对每一个 Diss 进行回复，直至所有 Diss 的状态变更为 Resolved。</li><li>Reviewers 对 MR 进行 Merge 操作，Owner 在测试环境发布代码，通知相关 QA 同学回归测试。</li><li>如果测试或者验收环节发现问题，Owner 需要对代码进行修改，然后发起新一轮的 MR，直至测试环境代码通过验收。</li><li>和 QA 同学确认代码可以发布至生产环境，并进行代码发布。</li></ol><h2 id="边界" tabindex="-1">边界 <a class="header-anchor" href="#边界" aria-label="Permalink to &quot;边界&quot;">​</a></h2><ol><li>线上出现紧急 bug 时（Hotfix 分支）可不进行 Code Review。</li><li>某个需求（项目）留给开发时间非常紧张时可不进行 Code Review，优先保证按时上线。</li><li>Code Review 后改动的影响面太大，可考虑暂不优化。</li></ol>',16)])])}const g=i(l,[["render",t]]);export{v as __pageData,g as default};
