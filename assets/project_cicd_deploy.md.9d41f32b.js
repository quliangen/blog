import{_ as s,c as a,o as n,a as e}from"./app.e23272e0.js";const y=JSON.parse('{"title":"\u90E8\u7F72\u524D\u7AEF\u5230(NG)\u5E38\u7528\u6307\u4EE4","description":"","frontmatter":{},"headers":[],"relativePath":"project/cicd/deploy.md"}'),l={name:"project/cicd/deploy.md"},p=e(`<h1 id="\u90E8\u7F72\u524D\u7AEF\u5230-ng-\u5E38\u7528\u6307\u4EE4" tabindex="-1">\u90E8\u7F72\u524D\u7AEF\u5230(NG)\u5E38\u7528\u6307\u4EE4 <a class="header-anchor" href="#\u90E8\u7F72\u524D\u7AEF\u5230-ng-\u5E38\u7528\u6307\u4EE4" aria-hidden="true">#</a></h1><h2 id="_1-\u6784\u5EFA\u538B\u7F29" tabindex="-1">1. \u6784\u5EFA\u538B\u7F29 <a class="header-anchor" href="#_1-\u6784\u5EFA\u538B\u7F29" aria-hidden="true">#</a></h2><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;"># \u6784\u5EFA</span></span>
<span class="line"><span style="color:#A6ACCD;">pnpm run build</span></span>
<span class="line"><span style="color:#676E95;"># \u538B\u7F29\u4EA7\u7269</span></span>
<span class="line"><span style="color:#A6ACCD;">tar -czvf dist.tar.gz dist/</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-\u767B\u5F55\u5E76\u4E0A\u4F20\u8D44\u6E90\u5230\u670D\u52A1" tabindex="-1">2. \u767B\u5F55\u5E76\u4E0A\u4F20\u8D44\u6E90\u5230\u670D\u52A1 <a class="header-anchor" href="#_2-\u767B\u5F55\u5E76\u4E0A\u4F20\u8D44\u6E90\u5230\u670D\u52A1" aria-hidden="true">#</a></h2><div class="language-shell"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u4E0A\u4F20 \u9759\u6001\u8D44\u6E90\u3002xxx\u66FF\u6362\u4E3A\u5B9E\u9645\u670D\u52A1\u5730\u5740\uFF0C\u6839\u636E\u5B9E\u9645\u8DEF\u5F84\u5B9A\u4E49\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">scp dist.tar.gz root@xx.xxx.xxx.xxx:/data/web/tmp</span></span>
<span class="line"><span style="color:#676E95;"># \u63D0\u793A\u8F93\u5165\u670D\u52A1\u5BC6\u7801\uFF0C\u8F93\u5165\u5373\u53EF\u3002</span></span>
<span class="line"></span></code></pre></div><h2 id="_3-\u767B\u5F55\u670D\u52A1\u66FF\u6362\u8D44\u6E90" tabindex="-1">3. \u767B\u5F55\u670D\u52A1\u66FF\u6362\u8D44\u6E90 <a class="header-anchor" href="#_3-\u767B\u5F55\u670D\u52A1\u66FF\u6362\u8D44\u6E90" aria-hidden="true">#</a></h2><div class="language-shell"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u7EC8\u7AEF\u767B\u5F55\u670D\u52A1\u3002xxx\u66FF\u6362\u4E3A\u5B9E\u9645\u670D\u52A1\u5730\u5740\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">ssh root@xx.xxx.xxx.xxx</span></span>
<span class="line"><span style="color:#676E95;"># \u89E3\u538B\u8D44\u6E90\u5305\uFF0C\u5220\u9664\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u5DF2\u6709\u7684 dist\u76EE\u5F55\uFF0C\u89E3\u538B\u4E8C\u4E0A\u4F20\u7684\u8D44\u6E90\u3002</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /data/web/temp</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> rm -rf dist</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> tar -xzvf dist.tar.gz</span></span>
<span class="line"><span style="color:#676E95;"># \u5220\u9664\u90E8\u7F72\u7684\u76EE\u5F55\u5185\u7684\u6587\u4EF6\u5939\uFF0C\u65B0\u7684\u8D44\u6E90\u79FB\u52A8\u5230\u90E8\u7F72\u76EE\u5F55\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">rm -rf /data/web/wap/static</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> mv /data/web/tmp/dist/</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> /data/web/wap</span></span>
<span class="line"><span style="color:#676E95;"># \u91CD\u542F NG \u53EF\u9009\uFF0C\u4FEE\u6539\u914D\u7F6E\u9700\u91CD\u542F\u3002</span></span>
<span class="line"><span style="color:#676E95;"># /usr/local/openresty/nginx/sbin/nginx -s reload</span></span>
<span class="line"></span></code></pre></div><h2 id="_4\uFF1A\u589E\u52A0\u53D1\u5E03-\u53C2\u7167-\u524D\u7AEF\u589E\u91CF\u90E8\u7F72" tabindex="-1">4\uFF1A\u589E\u52A0\u53D1\u5E03 \u53C2\u7167 <a href="./incremental">\u524D\u7AEF\u589E\u91CF\u90E8\u7F72</a> <a class="header-anchor" href="#_4\uFF1A\u589E\u52A0\u53D1\u5E03-\u53C2\u7167-\u524D\u7AEF\u589E\u91CF\u90E8\u7F72" aria-hidden="true">#</a></h2>`,8),t=[p];function o(c,r,i,d,h,x){return n(),a("div",null,t)}const A=s(l,[["render",o]]);export{y as __pageData,A as default};
